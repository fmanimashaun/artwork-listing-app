"use strict";(self.webpackChunkartwork_listing_app=self.webpackChunkartwork_listing_app||[]).push([[179],{415:(t,e,i)=>{const n=(t,e)=>{const i=t.length;e.textContent=`(${i})`},s=i.p+"img/logo.png",a=i.p+"img/menu.svg",o=i.p+"img/close.svg",r=document.querySelector(".header"),l=`\n      <div class="header__wrapper">\n        <h1 class='header__logo'><span>Art</span><img class='header__logo-img' src="${s}"\n            alt="art painting illustration"><span>ork</span></h1>\n        <nav class="header__nav">\n          <button class="header__nav-btn close">\n            <img class='btn-img btn-open' src="${a}" alt="menu button icon">\n            <img class='btn-img btn-close' src="${o}" alt="close button icon">\n          </button>\n          <ul class="header__nav-list close">\n            <li class="header__nav-item"><a class='header__nav-link active' href='#'>Artworks</a></li>\n            <li class="header__nav-item"><a class='header__nav-link' href='#'>Exhibitions</a></li>\n            <li class="header__nav-item"><a class='header__nav-link' href='#'>Shop</a></li>\n          </ul>\n        </nav>\n      </div>\n`,c=(t,e,i="")=>{t.innerHTML="",""===i?e():e(i)},d=i.p+"img/like.svg",m=i.p+"img/unlike.svg",_=document.querySelector(".main"),u=async t=>{const e=await t.filter((t=>null!==t.image_id)).map((t=>`\n      <figure class="artworks__item" id="${t.id}">\n        <img class="artworks__item-img" src="https://www.artic.edu/iiif/2/${t.image_id}/full/843,/0/default.jpg" alt="${t.title}">\n        <figcaption class="artworks__item-caption">\n          <h2 class="artworks__item-title">${t.title}</h2>\n          <p class="artworks__item-author">${t.artist_display}</p>\n          <div class="artworks__item-interact">\n            <button class="artworks__item-btn like-btn">\n              <img class="like-img hidden" src="${d}" alt="like">\n              <img class="like-img" src="${m}" alt="like">\n            </button>\n            <button id ="comment-${t.id}"class="artworks__item-btn comment-btn">Comment</button>\n          </div>\n        </figcaption>\n     </figure>\n    `));_.insertAdjacentHTML("afterbegin",`<div class='artworks'><h1 class="artworks__title">Artworks<span class="artworks__count"></span></h1><div class="artworks__wrapper">${e.join("")}</div></div>`)},p=document.querySelector(".main"),h=async t=>{const e=await t.filter((t=>null!==t.image_url&&null!==t.short_description)).map((t=>`\n      <figure class="exhibitions__item" id="${t.id}">\n        <img class="exhibitions__item-img" src="${t.image_url}" alt="${t.title}">\n        <figcaption class="exhibitions__item-caption">\n          <h2 class="exhibitions__item-title">${t.title}</h2>\n          <button id ="reserve-${t.id}"class="exhibitions__item-btn reserve-btn">Reservation</button>\n        </figcaption>\n     </figure>\n    `));p.insertAdjacentHTML("afterbegin",`<div class='exhibitions'><h1 class="exhibitions__title">Exhibitions<span class="exhibitions__count"></span></h1><div class="exhibitions__wrapper">${e.join("")}</div></div>`)},v=document.querySelector(".main"),g=()=>{v.innerHTML="",v.insertAdjacentHTML("afterbegin",'\n    <div class="shop">\n      <h1 class="shop__title">Shop</h1>\n      <p class="shop__content">Coming soon...</p>\n    </div>\n  ')},b=async t=>{const e=await fetch(t);return await e.json()},k=i.p+"img/close_gray.svg",w=document.querySelector(".container"),y=async t=>{const e=`\n  <div class="artworks__modal">\n  <div class="artworks__modal-wrapper">\n    <button class='artworks__modal-btn'>\n      <img class='artworks__modal-btn-img' src="${k}" alt="close">\n    </button>\n    <div class="artworks__modal-card">\n      <img class="artworks__modal-card-img" src="https://www.artic.edu/iiif/2/${t.image_id}/full/843,/0/default.jpg" alt="${t.title}">\n      <div class="artworks__modal-card-details">\n        <h3 class="artworks__modal-card-title">${t.title}</h3>\n        <p class='artworks__modal-card-author'><span>Author:</span> ${t.artist_display}</p>\n        <p class='artworks__modal-card-origin'><span>Origin:</span>  ${t.place_of_origin}</p>\n        <p class='artworks__modal-card-credit'><span>Credit:</span> ${t.credit_line}</p>\n    `;let i=t.term_titles.map((t=>`<li class='artworks__modal-card-terms-item'>${t}</li>`)).join("");i=`<ul class="artworks__modal-card-terms">${i}</ul>`;const n=e+i+`\n  </div>\n  <div class="artworks__modal-comments">\n    <h4 class="artworks__modal-comments-title">Comments <span class="artworks__modal-comments-count"></span>:</h4>\n    <ul class="artworks__modal-comments-list">\n    </ul>\n    <form action="" class="artworks__modal-comments-add">\n      <input type="text" name="name" id="name" placeholder='Your name' required>\n      <textarea class='artworks__modal-comments-input' name="message" id="comment" maxlength="500" cols="30"\n      rows="4" placeholder="Your insights..." required></textarea>\n      <input id="submit-${t.id}" class='artworks__modal-comments-btn' type="submit" value="Comment">\n    </form>\n  </div>\n  </div>\n  </div>\n  </div>`;w.insertAdjacentHTML("afterbegin",n)},f=(t,e="")=>{""===e?t():t(e)},x=async t=>{const e=document.querySelector(".artworks__modal-comments-add");e.addEventListener("submit",(i=>{i.preventDefault();const s=document.querySelector("#name").value,a=document.querySelector("#comment").value,o={item_id:t,username:s,comment:a};(async(t,e)=>{fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}})})("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/yf6dqoUrsU3EfHXvC1i4/comments",o).then((()=>{e.reset()})).then((()=>{const t=document.querySelector(".artworks__modal-comments-list"),e=`\n        <li class="artworks__modal-comments-item">\n        ${(new Date).toISOString().split("T")[0]} ${o.username}: ${o.comment}\n      </li>\n      `;t.innerHTML+=e;const i=document.querySelector(".artworks__modal-comments-count"),s=document.querySelectorAll(".artworks__modal-comments-item");n(s,i)}))}))},$=()=>{document.querySelectorAll(".comment-btn").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.id.split("-")[1];b(`https://api.artic.edu/api/v1/artworks/${e}?fields=id,title,artist_display,place_of_origin,credit_line,term_titles,image_id`).then((t=>{f(y,t.data)})).then((()=>{const t=document.querySelector(".artworks__modal"),e=document.querySelector(".container");document.querySelector(".artworks__modal-btn").addEventListener("click",(()=>{e.removeChild(t)}))})).then((()=>{(async t=>{b(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/yf6dqoUrsU3EfHXvC1i4/comments?item_id=${t}`).then((t=>{const e=document.querySelector(".artworks__modal-comments-list"),i=document.querySelector(".artworks__modal-comments-count"),n=t.map((t=>`\n      <li class="artworks__modal-comments-item">\n        ${t.creation_date} ${t.username}: ${t.comment}\n      </li>\n    `)).join("");e.innerHTML=n,i.innerHTML=`(${t.length})`}))})(e)})).then((()=>{x(e)}))}))}))},S=document.querySelector(".container"),q=async t=>{const e=`\n    <div class="exhibitions__modal">\n      <div class="exhibitions__modal-wrapper">\n        <button class='exhibitions__modal-btn'>\n          <img class='exhibitions__modal-btn-img' src="${k}" alt="close">\n        </button>\n        <div class="exhibitions__modal-card">\n          <img class="exhibitions__modal-card-img" src="${t.image_url}" alt="${t.title}">\n          <div class="exhibitions__modal-card-details">\n            <h3 class="exhibitions__modal-card-title">${t.title}</h3>\n            <p class='exhibitions__modal-card-description'>${t.short_description}</p>\n          </div>\n          <div class="exhibitions__modal-reservations">\n            <h4 class="exhibitions__modal-reservations-title">Reservations<span class="exhibitions__modal-reservations-count"></span>:\n            </h4>\n            <div class="exhibitions__modal-reservations-list">\n              <p class='exhibitions__modal-reservations-item'>03/11/2021 - 03/12/2021 by Alex</p>\n              <p class='exhibitions__modal-reservations-item'>03/14/2021 - 03/16/2021 by Mia</p>\n            </div>\n            <form action="" class="exhibitions__modal-reservations-add">\n              <h4 class="exhibitions__modal-reservations-add-title">Add a reservation:</h4>\n              <input type="text" name="name" id="name" placeholder='Your name'>\n              <input type="text" name="date" id="start_date" placeholder='Start date' onfocus="(this.type='date')" onblur="(this.type='text')">\n              <input type="text" name="date" id="end_date" placeholder='End date' onfocus="(this.type='date')" onblur="(this.type='text')">\n              <input class='exhibitions__modal-reservations-btn' type="submit" value="Reserve">\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;S.insertAdjacentHTML("afterbegin",e)},L=document.querySelector(".main");r.insertAdjacentHTML("afterbegin",l);const A=document.querySelectorAll(".header__nav-link"),T=document.querySelector(".main");var C,E;E=t=>{t.forEach((t=>{t.classList.contains("active")&&t.classList.remove("active")}))},(C=A).forEach((t=>{t.addEventListener("click",(t=>{"Artworks"===t.target.textContent?(E(C),t.target.classList.add("active"),L.innerHTML="",b("https://api.artic.edu/api/v1/artworks?limit=20&fields=id,title,artist_display,place_of_origin,credit_line,term_titles,image_id").then((t=>{c(L,u,t.data)})).then((()=>{const t=document.querySelector(".artworks__count"),e=document.querySelectorAll(".artworks__item");n(e,t)})).then((()=>{$()}))):"Exhibitions"===t.target.textContent?(E(C),t.target.classList.add("active"),L.innerHTML="",b("https://api.artic.edu/api/v1/exhibitions?limit=20&fields=id,title,image_url,short_description").then((t=>{c(L,h,t.data)})).then((()=>{const t=document.querySelector(".exhibitions__count"),e=document.querySelectorAll(".exhibitions__item");n(e,t)})).then((()=>{document.querySelectorAll(".reserve-btn").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.id.split("-")[1];b(`https://api.artic.edu/api/v1/exhibitions/${e}?fields=id,title,short_description,image_url`).then((t=>{f(q,t.data)})).then((()=>{const t=document.querySelector(".exhibitions__modal"),e=document.querySelector(".container");document.querySelector(".exhibitions__modal-btn").addEventListener("click",(()=>{e.removeChild(t)}))}))}))}))}))):"Shop"===t.target.textContent&&(E(C),t.target.classList.add("active"),L.innerHTML="",c(L,g))}))})),b("https://api.artic.edu/api/v1/artworks?limit=20&fields=id,title,artist_display,place_of_origin,credit_line,term_titles,image_id").then((t=>{c(T,u,t.data)})).then((()=>{const t=document.querySelector(".artworks__count"),e=document.querySelectorAll(".artworks__item");n(e,t)})).then((()=>{$()}))}},t=>{t(t.s=415)}]);